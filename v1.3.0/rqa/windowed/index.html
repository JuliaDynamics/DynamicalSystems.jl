<!DOCTYPE html><HTML class="no-js" lang="en"><head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><meta content="ie=edge" http-equiv="x-ua-compatible"/><meta content="A Julia software library for the exploration of chaos and nonlinear dynamics." name="description"/><meta content="George Datseris" name="author"/><meta content="Copy to clipboard" name="lang:clipboard.copy"/><meta content="Copied to clipboard" name="lang:clipboard.copied"/><meta content="en" name="lang:search.language"/><meta content="True" name="lang:search.pipeline.stopwords"/><meta content="True" name="lang:search.pipeline.trimmer"/><meta content="No matching documents" name="lang:search.result.none"/><meta content="1 matching document" name="lang:search.result.one"/><meta content="# matching documents" name="lang:search.result.other"/><meta content="[\s\-]+" name="lang:search.tokenizer"/><link href="../../assets/images/favicon.png" rel="shortcut icon"/><meta content="mkdocs-0.17.5, mkdocs-material-2.9.4" name="generator"/><title>Windowed RQA - DynamicalSystems.jl</title><link href="../../assets/stylesheets/application.451f80e5.css" rel="stylesheet"/><link href="../../assets/stylesheets/application-palette.22915126.css" rel="stylesheet"/><meta content="#7e57c2" name="theme-color"/><script src="../../assets/javascripts/modernizr.1aa3b519.js"></script><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,400i,700|Source+Code+Pro" rel="stylesheet"/><style>body,input{font-family:"Montserrat","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Source Code Pro","Courier New",Courier,monospace}</style><link href="../../assets/fonts/material-icons.css" rel="stylesheet"/><link href="../../assets\Documenter.css" rel="stylesheet"/><script data-outdated-warner="">function maybeAddWarning () {
    const head = document.getElementsByTagName('head')[0];

    // Add a noindex meta tag (unless one exists) so that search engines don't index this version of the docs.
    if (document.body.querySelector('meta[name="robots"]') === null) {
        const meta = document.createElement('meta');
        meta.name = 'robots';
        meta.content = 'noindex';

        head.appendChild(meta);
    };

    // Add a stylesheet to avoid inline styling
    const style = document.createElement('style');
    style.type = 'text/css';
    style.appendChild(document.createTextNode('.outdated-warning-overlay {  position: fixed;  top: 0;  left: 0;  right: 0;  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);  z-index: 999;  background-color: #ffaba7;  color: rgba(0, 0, 0, 0.7);  border-bottom: 3px solid #da0b00;  padding: 10px 35px;  text-align: center;  font-size: 15px; }  .outdated-warning-overlay .outdated-warning-closer {    position: absolute;    top: calc(50% - 10px);    right: 18px;    cursor: pointer;    width: 12px; }  .outdated-warning-overlay a {    color: #2e63b8; }    .outdated-warning-overlay a:hover {      color: #363636; }'));
    head.appendChild(style);

    const div = document.createElement('div');
    div.classList.add('outdated-warning-overlay');
    const closer = document.createElement('div');
    closer.classList.add('outdated-warning-closer');

    // Icon by font-awesome (license: https://fontawesome.com/license, link: https://fontawesome.com/icons/times?style=solid)
    closer.innerHTML = '<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>';
    closer.addEventListener('click', function () {
        document.body.removeChild(div);
    });
    let href = '/stable';
    if (window.documenterBaseURL) {
        href = window.documenterBaseURL + '/../stable';
    }
    div.innerHTML = 'This documentation is not for the latest version. <br> <a href="' + href + '">Go to the latest documentation</a>.';
    div.appendChild(closer);
    document.body.appendChild(div);
};

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', maybeAddWarning);
} else {
    maybeAddWarning();
};
</script></head><body data-md-color-accent="teal" data-md-color-primary="deep-purple" dir="ltr"><svg class="md-svg"><defs><svg height="448" id="__github" viewBox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg"><path d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" fill="currentColor"></path></svg></defs></svg><input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/><input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/><label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a class="md-skip" href="#windowed-rqa" tabindex="1">
        Skip to content
      </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a class="md-header-nav__button md-logo" href="../.." title="DynamicalSystems.jl"><i class="md-icon"></i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">
                DynamicalSystems.jl
              </span><span class="md-header-nav__topic">
                Windowed RQA
              </span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/><label class="md-icon md-search__icon" for="__search"></label><button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
        
      </button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix=""><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">
            Type to start searching
          </div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a class="md-source" data-md-source="github" href="https://github.com/JuliaDynamics/DynamicalSystems.jl/" title="Go to repository"><div class="md-source__icon"><svg height="24" viewBox="0 0 24 24" width="24"><use height="24" href="#__github" width="24"></use></svg></div><div class="md-source__repository">
      GitHub
    </div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a class="md-nav__button md-logo" href="../.." title="DynamicalSystems.jl"><i class="md-icon"></i></a>
    DynamicalSystems.jl
  </label><div class="md-nav__source"><a class="md-source" data-md-source="github" href="https://github.com/JuliaDynamics/DynamicalSystems.jl/" title="Go to repository"><div class="md-source__icon"><svg height="24" viewBox="0 0 24 24" width="24"><use height="24" href="#__github" width="24"></use></svg></div><div class="md-source__repository">
      GitHub
    </div></a></div><ul class="md-nav__list" data-md-scrollfix=""><li class="md-nav__item"><a class="md-nav__link" href="../.." title="Introduction &amp; Contents">
      Introduction &amp; Contents
    </a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/><label class="md-nav__link" for="nav-2">
      DynamicalSystemsBase
    </label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">
        DynamicalSystemsBase
      </label><ul class="md-nav__list" data-md-scrollfix=""><li class="md-nav__item"><a class="md-nav__link" href="../../ds/general/" title="Dynamical System Definition">
      Dynamical System Definition
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../ds/evolve/" title="Time Evolution">
      Time Evolution
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../ds/predefined/" title="Predefined Systems">
      Predefined Systems
    </a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/><label class="md-nav__link" for="nav-3">
      DelayEmbeddings
    </label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">
        DelayEmbeddings
      </label><ul class="md-nav__list" data-md-scrollfix=""><li class="md-nav__item"><a class="md-nav__link" href="../../embedding/dataset/" title="Numerical Data">
      Numerical Data
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../embedding/reconstruction/" title="Delay Coordinates">
      Delay Coordinates
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../embedding/estimate/" title="Estimating Delay Embedding Parameters">
      Estimating Delay Embedding Parameters
    </a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/><label class="md-nav__link" for="nav-4">
      ChaosTools
    </label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">
        ChaosTools
      </label><ul class="md-nav__list" data-md-scrollfix=""><li class="md-nav__item"><a class="md-nav__link" href="../../chaos/overview/" title="Features Overview">
      Features Overview
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../chaos/orbitdiagram/" title="Orbit Diagrams &amp; PSOS">
      Orbit Diagrams &amp; PSOS
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../chaos/lyapunovs/" title="Lyapunov Exponents">
      Lyapunov Exponents
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../chaos/chaos_detection/" title="Chaos Detection">
      Chaos Detection
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../chaos/entropies/" title="Entropies and Dimensions">
      Entropies and Dimensions
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../chaos/nlts/" title="Nonlinear Timeseries Analysis">
      Nonlinear Timeseries Analysis
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../chaos/periodicity/" title="Periodicity">
      Periodicity
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../chaos/choosing/" title="Choosing a solver">
      Choosing a solver
    </a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input checked="" class="md-toggle md-nav__toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/><label class="md-nav__link" for="nav-5">
      RecurrenceAnalysis
    </label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-5">
        RecurrenceAnalysis
      </label><ul class="md-nav__list" data-md-scrollfix=""><li class="md-nav__item"><a class="md-nav__link" href="../rplots/" title="Recurrence Plots">
      Recurrence Plots
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../quantification/" title="Quantification &amp; Analysis functions">
      Quantification &amp; Analysis functions
    </a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/><label class="md-nav__link md-nav__link--active" for="__toc">
        Windowed RQA
      </label><a class="md-nav__link md-nav__link--active" href="./" title="Windowed RQA">
      Windowed RQA
    </a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix=""><li class="md-nav__item"><a class="md-nav__link" href="#docstring" title="Docstring">
    Docstring
  </a></li><li class="md-nav__item"><a class="md-nav__link" href="#alternative-syntax-for-windowed" title="Alternative syntax for @windowed">
    Alternative syntax for @windowed
  </a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" id="nav-6" type="checkbox"/><label class="md-nav__link" for="nav-6">
      InteractiveChaos
    </label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-6">
        InteractiveChaos
      </label><ul class="md-nav__list" data-md-scrollfix=""><li class="md-nav__item"><a class="md-nav__link" href="../../interact/od/" title="Orbit Diagram">
      Orbit Diagram
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../interact/psos/" title="Poincaré Surface of Section">
      Poincaré Surface of Section
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../interact/highlight/" title="Trajectory Highlighter">
      Trajectory Highlighter
    </a></li></ul></nav></li><li class="md-nav__item"><a class="md-nav__link" href="../../advanced/" title="Advanced Documentation">
      Advanced Documentation
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../contributors_guide/" title="Contributor Guide">
      Contributor Guide
    </a></li><li class="md-nav__item"><a class="md-nav__link" href="../../news/" title="News">
      News
    </a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix=""><li class="md-nav__item"><a class="md-nav__link" href="#docstring" title="Docstring">
    Docstring
  </a></li><li class="md-nav__item"><a class="md-nav__link" href="#alternative-syntax-for-windowed" title="Alternative syntax for @windowed">
    Alternative syntax for @windowed
  </a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a class="md-icon md-content__icon" href="https://github.com/JuliaDynamics/DynamicalSystems.jl/edit/master/docs/rqa/windowed.md" title="Edit this page"></a><p><a id="Windowed-RQA-1"></a></p><h1 id="windowed-rqa">Windowed RQA</h1><p>In some cases, specially with very long time series, it may be suitable to perform the analysis at different points, considering only a limited <em>window</em> of data around each observation. The macro <a href="./#RecurrenceAnalysis.@windowed"><code>@windowed</code></a> modifies the behaviour of the basic functions to calculate RQA parameters in that fashion. For instance, if <code>rmat</code> is a 10<sup>4</sup>×10<sup>4</sup> recurrence matrix, then</p><div class="codehilite"><pre><span></span><span class="nd">@windowed</span> <span class="n">determinism</span><span class="p">(</span><span class="n">rmat</span><span class="p">,</span> <span class="n">theiler</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">lmin</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> <span class="n">width</span><span class="o">=</span><span class="mi">1000</span> <span class="n">step</span><span class="o">=</span><span class="mi">100</span>
</pre></div><p>will return a 91-element vector, such that each value is the determinism associated to a 1000-point fragment, starting at every 100 points (i.e. at <code>1</code>, <code>101</code>, … <code>9001</code>).</p><p>The general syntax of that macro is:</p><div class="codehilite"><pre><span></span><span class="nd">@windowed</span> <span class="n">expr</span> <span class="n">w</span>                 <span class="c">#1</span>
<span class="nd">@windowed</span> <span class="n">expr</span> <span class="n">width</span><span class="o">=</span><span class="n">w</span> <span class="n">step</span><span class="o">=</span><span class="n">s</span>    <span class="c">#2</span>
</pre></div><p>where:</p><ul><li><code>expr</code> is an expression used to calculate RQA parameters</li><li><code>w</code> is the width of the window for relevant data around each point.</li><li><code>s</code> is the step or distance between points where the calculations are done (starting in the first point).</li></ul><p>To prevent syntax failures in the expansion of the macro, identify the RQA function (<code>rqa</code>, <code>recurrencerate</code>, <code>determinism</code>,...) directly by its name (avoid aliases), and use simple variable names (not complex expressions) for the arguments. On the other hand, the windowing options <code>width</code> and <code>step</code> can be given in any order. If <code>step</code> is ommitted, the calculations are done at every point, and the keyword <code>width</code> may be ommitted. (However, using <code>step=1</code> may be computationally very expensive, and that will provide just overly redundant results around each point, so it is advisable to set <code>step</code> a relatively big fraction of the window <code>width</code>.)</p><p>The value returned by the macro will normally be a vector with the same type of numbers as expected by <code>expr</code>. In the case of <code>@windowed rqa(...) ...</code>, it will return a NamedTuple with a similar structure as in the default <code>rqa</code> function, but replacing scalar values by vectors.</p><p>The macro <code>@windowed</code> can also be applied to the functions that calculate recurrence matrices (<code>RecurrenceMatrix</code>, <code>CrossRecurrenceMatrix</code>, <code>JointRecurrenceMatrix</code>). That creates a sparse matrix with the same size as if the macro was not used, but only containing valid values for pairs of points that belong to the <code>w</code> first main diagonals (i.e. the separation in time from one point to the other is <code>w</code> or smaller). The ‘step’ parameter <code>s</code> has no effect on those functions. Such ‘windowed’ matrices can be used as the input arguments to calculate windowed RQA parameters, obtaining the same results as if the complete matrix was used (under certain conditions, see below). For instance, the following calculations are equivalent:</p><div class="codehilite"><pre><span></span><span class="c"># Using complete matrix</span>
<span class="n">rmat</span> <span class="o">=</span> <span class="n">RecurrenceMatrix</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="nd">@windowed</span> <span class="n">determinism</span><span class="p">(</span><span class="n">rmat</span><span class="p">)</span> <span class="n">width</span><span class="o">=</span><span class="mi">1000</span> <span class="n">step</span><span class="o">=</span><span class="mi">250</span>

<span class="c"># Using windowed matrix</span>
<span class="n">rmatw</span> <span class="o">=</span> <span class="nd">@windowed</span> <span class="n">RecurrenceMatrix</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">)</span> <span class="mi">1000</span>
<span class="n">d</span> <span class="o">=</span> <span class="nd">@windowed</span> <span class="n">determinism</span><span class="p">(</span><span class="n">rmatw</span><span class="p">)</span> <span class="n">width</span><span class="o">=</span><span class="mi">1000</span> <span class="n">step</span><span class="o">=</span><span class="mi">250</span>
</pre></div><p>The main difference between the two alternatives is that the second one will be faster and consume less memory. To ensure the equivalence between both approaches, the window width used to create the matrix must be greater than the one used to calculate the RQA parameters. Otherwise, the computation of RQA parameters might involve data points whose value is not well defined. Besides, the threshold to identify recurrences should be referred to a fixed scale. For instance:</p><div class="codehilite"><pre><span></span><span class="n">rmat</span>  <span class="o">=</span>           <span class="n">RecurrenceMatrix</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">maximum</span><span class="p">)</span>
<span class="n">rmatw</span> <span class="o">=</span> <span class="nd">@windowed</span> <span class="n">RecurrenceMatrix</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">maximum</span><span class="p">)</span> <span class="mi">1000</span>
<span class="n">rmat</span><span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1</span><span class="o">:</span><span class="mi">1000</span><span class="p">]</span> <span class="o">==</span> <span class="n">rmatw</span><span class="p">[</span><span class="mi">1</span><span class="o">:</span><span class="mi">1000</span><span class="p">,</span><span class="mi">1</span><span class="o">:</span><span class="mi">1000</span><span class="p">]</span> <span class="c"># FALSE!!!</span>
</pre></div><p>In this example, the <code>1000×1000</code> blocks of both matrices differ, because the threshold <code>0.1</code> is scaled with respect to the maximum distance between all points of <code>x</code> in <code>rmat</code>, but in the case of <code>rmatw</code> the scale changes between subsets of points. Something similar may happen if the recurrence matrix is calculated for a fixed recurrence rate (with the option <code>fixedrate=true</code>).</p><p><a id="Docstring-1"></a></p><h2 id="docstring">Docstring</h2><p><a href="#RecurrenceAnalysis.@windowed" id="RecurrenceAnalysis.@windowed">#</a><strong><code>RecurrenceAnalysis.@windowed</code></strong> — <em>Macro</em>.</p><div class="codehilite"><pre><span></span><span class="nd">@windowed</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">...</span><span class="p">),</span> <span class="n">width</span><span class="p">)</span>
<span class="nd">@windowed</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">...</span><span class="p">);</span> <span class="n">width</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div><p>Calculate windowed RQA parameters with a given window width.</p><p><code>f(x,...)</code> may be any call to RQA functions (e.g. <a href="../quantification/#RecurrenceAnalysis.recurrencerate"><code>recurrencerate</code></a>, <a href="../quantification/#RecurrenceAnalysis.determinism"><code>determinism</code></a>, etc.), with <code>x</code> being a named variable that designates the recurrence matrix (do not use in-place calculations of the recurrence matrix). The results are returned in a vector with one value for each position of the window. By default the window moves at one-point intervals, but a longer <code>step</code> length may be specified, together with the window <code>width</code>, by declaring those options as keyword arguments.</p><p>This macro may be also used with recurrence matrix constructors (<code>RecurrenceMatrix</code>, <code>CrossRecurrenceMatrix</code>, <code>JointRecurrenceMatrix</code>), to create 'incomplete' matrices that are suitable for such windowed RQA. The values of the resulting matrix in the diagonals within the window width will be equal to those obtained without the <code>@windowed</code> macro, if the distances are not scaled (using the option <code>scale=1</code>, see <a href="../rplots/#RecurrenceAnalysis.RecurrenceMatrix"><code>RecurrenceMatrix</code></a>). Outside the window width, the values of the recurrence matrix will be undefined (mostly zero).</p><p><a id="Alternative-syntax-for-@windowed-1"></a></p><h2 id="alternative-syntax-for-windowed">Alternative syntax for <code>@windowed</code></h2><p>The following ways of using the macro <code>@windowed</code> are equivalent:</p><div class="codehilite"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="nd">@windowed</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">...</span><span class="p">)</span> <span class="n">w</span>
<span class="nd">@windowed</span> <span class="n">y</span><span class="o">=</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">...</span><span class="p">)</span> <span class="n">w</span>
<span class="n">y</span> <span class="o">=</span> <span class="nd">@windowed</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">...</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span>
<span class="nd">@windowed</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="o">...</span><span class="p">),</span> <span class="n">w</span><span class="p">)</span>
</pre></div><p>In all four cases, the width parameter <code>w</code> might have been qualified with a keyword as <code>width=w</code>. If the step parameter is added, the keyword qualification is mandatory.</p></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="../quantification/" rel="prev" title="Quantification &amp; Analysis functions"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">
                  Previous
                </span>
                Quantification &amp; Analysis functions
              </span></div></a><a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="../../interact/od/" rel="next" title="Orbit Diagram"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">
                  Next
                </span>
                Orbit Diagram
              </span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a></div><div class="md-footer-social"><link href="../../assets/fonts/font-awesome.css" rel="stylesheet"/><a class="md-footer-social__link fa fa-github" href="https://github.com/JuliaDynamics/DynamicalSystems.jl"></a></div></div></div></footer></div><script src="../../assets/javascripts/application.30f6b8b1.js"></script><script>app.initialize({version:"0.17.5",url:{base:"../.."}})</script><script src="../../assets\mathjaxhelper.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></HTML>